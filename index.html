<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>刑事訴訟法/刑法 穴埋め学習ツール </title>
  <style>
    body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", sans-serif; margin: 24px; line-height: 1.65; }
    .wrap { max-width: 1120px; }
    h1 { margin: 0 0 10px; }
    .small { font-size: 13px; color: #666; margin: 0 0 16px; }

    .card { border: 1px solid #ddd; border-radius: 12px; padding: 16px; }
    .tabs { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 12px; }
    .tab { padding: 8px 12px; border: 1px solid #ddd; border-radius: 999px; cursor: pointer; background: #fff; }
    .tab.active { border-color: #000; font-weight: 800; }

    .passage { background: #fafafa; border: 1px solid #eee; border-radius: 10px; padding: 14px; white-space: pre-wrap; }

    .controls { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 14px; }
    button { padding: 10px 14px; font-size: 16px; cursor: pointer; }

    .grid { display: grid; grid-template-columns: 1fr; gap: 10px; margin-top: 14px; }
    .item { border: 1px solid #eee; border-radius: 10px; padding: 12px; display: flex; flex-wrap: wrap; gap: 10px; align-items: center; }
    .tag { font-weight: 800; width: 56px; }
    input[type="text"] { padding: 10px 12px; font-size: 16px; width: 260px; max-width: 100%; }
    .feedback { font-weight: 800; }
    .ok { color: #0a7a2f; }
    .ng { color: #b00020; }

    .score { margin-top: 10px; font-weight: 900; }
    code { background: #f3f3f3; padding: 2px 6px; border-radius: 6px; }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>穴埋め学習ツール（(1)〜(7)切替）</h1>
    <p class="small">
      上のボタンで文章を切替 → 空欄の答えを入力 →「採点」。
      （前後の空白は無視／全角半角は軽く正規化。正答が複数あり得る箇所は候補を複数登録）
    </p>

    <div class="card">
      <div id="tabs" class="tabs"></div>

      <div id="passage" class="passage"></div>

      <div class="controls">
        <button id="checkBtn">回答（採点）</button>
        <button id="revealBtn" type="button">答えを見る（全表示）</button>
        <button id="clearBtn" type="button">入力をクリア</button>
      </div>

      <div id="score" class="score"></div>
      <div id="items" class="grid"></div>
    </div>
  </div>

  <script>
    // ============
    // 文章セット (1)〜(7)
    // ============
    const sets = [
      {
        key: "(1)",
        title: "(1)",
        passage: `刑法を具体的に実現するために必ず守らなければならない（①）・規則を定める法律を刑事訴訟法と言う。
刑事訴訟の構造に関しては、刑事訴訟法が、 「 （②）制度」や「 （③）主義」を採用していることなどから、わが国では（④）主義を採っていると考えられている。
捜査とは、被疑者の身柄および証拠を保全する捜査機関の活動のことをいう。 捜査は、できる限り（⑤）捜査の方法によらなければならない原則を「（⑤）捜査の原則」という。一方、（⑥）処分に関しては、法律に定めがない限りできないとする原則を「（⑥）処分法定主義」という。 （⑤）捜査と（⑥）捜査の区別基準に関して重要な判例は、最高裁判所の昭和（⑦）年3 月16 日決定（刑集30 巻2 号187 頁）である。
最高裁は、「捜査において（⑥）手段を用いることは、法律の（⑧）がある場合に限り許容されるものである。 」とし、その（⑥）手段については、有形力の行使を伴う手段を意味するものではなく、 「個人の（⑨） を制圧し、身体、住居、財産等に制約を加えて強制的に捜査目的を実現する行為など、特別の（⑧）がなければ許容することが相当でない手段を意味するもの」であるとしている。
また、憲法（⑩）条や35 条に規定される（⑪）も捜査に関する重要な原則である。`,
        answers: [
          { label: "①", correct: ["手続", "訴訟手続"] },
          { label: "②", correct: ["弾劾"] },          // 「弾劾制度」
          { label: "③", correct: ["当事者"] },        // 「当事者主義」
          { label: "④", correct: ["当事者主義"] },
          { label: "⑤", correct: ["任意"] },
          { label: "⑥", correct: ["強制"] },
          { label: "⑦", correct: ["51", "五一"] },
          { label: "⑧", correct: ["根拠", "規定"] },
          { label: "⑨", correct: ["意思", "自由意思"] },
          { label: "⑩", correct: ["31"] },
          { label: "⑪", correct: ["令状主義"] },
        ]
      },

      {
        key: "(2)",
        title: "(2)",
        passage: `被疑者の身柄を（①）する手続きとして、逮捕・勾留がある。逮捕・勾留は被疑者の（②）や（③）を防止する目的で行われる点で共通するが、身柄拘束期間の長短に応じて要件に違いがある。また、（起訴前）勾留は、 「逮捕された」被疑者のみを対象として行われる。これを逮捕（④）主義という。
逮捕に関しては、通常逮捕、（⑤）逮捕、（⑥）逮捕の三種類がある。（⑤）逮捕と（⑥）逮捕は（⑦）の例外である。（⑥）逮捕に関しては、合憲性が問題となっている。
勾留の期間は、（⑧）日間とされており、さらに（⑧）日間の延長が可能となっている。勾留の場所は（⑨）とされているが、刑事収容施設及び被収容者等の処遇に関する法律第（⑩）条第 1 項によれば、（⑪）もこれに含まれるとされている。これを代用（⑨）という（以前は代用監獄と呼んだ）。`,
        answers: [
          { label: "①", correct: ["拘束", "確保"] },
          { label: "②", correct: ["逃亡"] },
          { label: "③", correct: ["証拠隠滅"] },
          { label: "④", correct: ["前置"] },
          { label: "⑤", correct: ["緊急"] },
          { label: "⑥", correct: ["現行犯"] },
          { label: "⑦", correct: ["令状主義"] },
          { label: "⑧", correct: ["10", "十"] },
          { label: "⑨", correct: ["拘置所"] },
          { label: "⑩", correct: ["2", "二"] },
          { label: "⑪", correct: ["警察署留置施設", "留置施設", "留置場"] },
        ]
      },

      {
        key: "(3)",
        title: "(3)",
        passage: `検察官の事件処理に関して、その終局処分としては、（①） 処分、不起訴処分、少年事件についての （②）送致がある。このうち（①）処分は、（③）請求と略式命令請求に分けられ、不起訴処分は、狭義の不起訴処分と（④）に分けられる。狭義の不起訴処分は、事件が罪とならないこと、犯罪の（⑤）がないこと、
（⑥）が欠けていることが判明している場合に行う。また、（④）の基準は、刑事訴訟法（⑦）条に規定がある。
刑事訴訟法 247 条は、「公訴は、検察官がこれを行う。 」として国家機関が公訴権を行使する（⑧）主義を採用している。検察官のみが公訴を行う権利を有しているので、 （⑨）主義である。犯罪の（⑤）と（⑥）が備わっている場合に、必ず起訴すべきとする原則を起訴法定主義という。これに対して、犯罪の（⑤）と（⑥）が備わっているが訴追の必要がないときに、検察官の裁量により不起訴とすることを認める原則を（⑩）主義という。わが国は、（⑩）主義を採用している。
検察官が公訴を提起する場合、起訴状のみを提出して行う。これを起訴状（⑪）主義という。起訴状には、被告人を特定する事項、（⑫） 、罪名を記載することになっている。`,
        answers: [
          { label: "①", correct: ["起訴"] },
          { label: "②", correct: ["家庭裁判所", "家裁"] },
          { label: "③", correct: ["公判"] },
          { label: "④", correct: ["起訴猶予"] },
          { label: "⑤", correct: ["嫌疑"] },
          { label: "⑥", correct: ["証拠"] },
          { label: "⑦", correct: ["248"] },
          { label: "⑧", correct: ["官訴主義", "公訴官主義", "官訴", "公訴官"] },
          { label: "⑨", correct: ["起訴独占主義", "起訴独占"] },
          { label: "⑩", correct: ["起訴便宜主義", "起訴便宜"] },
          { label: "⑪", correct: ["一本"] },
          { label: "⑫", correct: ["公訴事実"] },
        ]
      },

      {
        key: "(4)",
        title: "(4)",
        passage: `公判に関しては、公判中心主義、（①）主義・口頭主義、公開主義、継続（②）主義などの原則が適用されている。公判中心主義とは、有罪・無罪は、公判手続きにおける（②）に基づいて判断されなければならないとする原則である。また、（①）主義とは、要証事実に近接した証拠であって、裁判所が取り調べた証拠でなければ、（③）の資料とすることはできないという原則をいい、口頭主義とは、（④）の主張・
立証など公判期日における手続は口頭で行うという原則のことをいう。 公開主義は、 審判は、国民が傍聴することのできる法廷で行うという原則のことであり、継続（②）主義とは、裁判所は、事件を継続的に集中して（②）しなければならないとする原則である。
公判前整理手続とは、第１回公判期日前に、（⑤）が主宰して、公判において（④）が主張する予定の事実を明示させ、証拠調べの請求をさせ、また、 （⑥）もより徹底して行わせる等により、十分な審理計画を策定するという手続きである。この手続は、 （⑦） の迅速化を実現するために導入されたものである。
しかし、（⑧）の原則に抵触するのではないかという点が懸念されている。
裁判員制度は、国民の中から選任された裁判員が、裁判官とともに刑事訴訟手続きに関与する制度であり、このことを規定した「裁判員の参加する（⑦）に関する法律（裁判員法）」は、平成（⑨）年に成立し、平成（⑩）年に施行された。`,
        answers: [
          { label: "①", correct: ["直接"] },
          { label: "②", correct: ["審理"] },
          { label: "③", correct: ["事実認定"] },
          { label: "④", correct: ["当事者"] },
          { label: "⑤", correct: ["裁判長"] },
          { label: "⑥", correct: ["証拠開示", "証拠整理"] },
          { label: "⑦", correct: ["刑事裁判"] },
          { label: "⑧", correct: ["予断排除"] }, // 教材差が出やすいので候補扱い
          { label: "⑨", correct: ["16"] },
          { label: "⑩", correct: ["21"] },
        ]
      },

      {
        key: "(5)",
        title: "(5)",
        passage: `（①）とは、適正な事実認定を確保するために設けられた多数の法的規制全体をいう。
事実の認定は証拠によるとする原則を（②） 主義といい、刑事訴訟法第 （③）条に規定がある。この（②）主義は、2 つの意義がある。すなわち、歴史的意義と（④）的意義である。
証拠とは、証明されるべき事実の存否を判断する根拠となる資料であり、証明されるべき事実を（⑤）事実、（⑤）事実のうち刑罰権を基礎づける実体法的事実のことを（⑥）事実という。また、証拠（⑦）とは、事実認定の素材となる人または物のことをいい、この証拠（⑦）から得られた内容を証拠（⑧）という。
証拠の証明力は裁判官の自由な判断に委ねるとする原則のことを（⑨）主義という。これは、（⑩）主義に対置される原則であり、刑事訴訟法第（⑪）条に規定がある。
自白については、その（⑫）が制限されており、またその（⑬）も制限されていて補強証拠が要求されている。この2 つの規制を自白法則という。
伝聞証拠とは、裁判所の面前での反対尋問を経ない供述証拠のことをいう。伝聞証拠に関しては、真実であるかどうかの点検ができないことから、この（⑫）が否定されている。これを（⑭）という。`,
        answers: [
          { label: "①", correct: ["証拠法"] },
          { label: "②", correct: ["証拠"] },          // 「証拠主義」
          { label: "③", correct: ["317"] },
          { label: "④", correct: ["近代", "現代"] },  // 教材差があるため両対応
          { label: "⑤", correct: ["要証"] },
          { label: "⑥", correct: ["主要"] },
          { label: "⑦", correct: ["方法"] },          // 「証拠資料」
          { label: "⑧", correct: ["資料"] },          // 「証拠内容」
          { label: "⑨", correct: ["自由心証"] },
          { label: "⑩", correct: ["法定証拠", "法律証拠"] },
          { label: "⑪", correct: ["318"] },
          { label: "⑫", correct: ["証拠能力"] },
          { label: "⑬", correct: ["証明力"] },
          { label: "⑭", correct: ["伝聞法則"] },
        ]
      },

      {
        key: "(6)",
        title: "(6)",
        passage: `上訴とは（①）の裁判に対し、上級裁判所に救済を求める不服申し立てであり、控訴、上告、（②）がある。
控訴は、第一審判決に対する（③）への上訴である。控訴審の構造に関しては、第一審の審理と判決はすべてなかったものとし、事件についてまったく新たな審理と判決をやり直す形態であるとする（④）と、前審における判決前の審理手続きを引き継ぎ、さらに新たな証拠資料を補充して、事件につき審理と
判決を行う形態であるとする（⑤）、事件そのものではなく、原判決の当否を審査する形態であるとする（⑥）がある。わが国は、原則として（⑥）を採用していると解されているが、大幅な修正がなされている。控訴理由は、（⑦）控訴理由と相対的控訴理由に分けることができる。
上告は、（⑧）への不服申し立てであり、上告理由としては（⑨）と判例違反のみがある。
再審とは、事実認定の不当を理由として（⑩）判決に対してなす非常救済手続きである。再審理由としては、（⑪）（偽証拠）型再審事由と（⑫）（新証拠）型再審事由がある。`,
        answers: [
          { label: "①", correct: ["未確定"] },
          { label: "②", correct: ["抗告"] },
          { label: "③", correct: ["高等裁判所", "高裁", "第二審"] },
          { label: "④", correct: ["覆審制", "全面再審制"] },
          { label: "⑤", correct: ["続審制"] },
          { label: "⑥", correct: ["事後審制"] },
          { label: "⑦", correct: ["絶対的"] },
          { label: "⑧", correct: ["最高裁判所", "最高裁"] },
          { label: "⑨", correct: ["憲法違反"] },
          { label: "⑩", correct: ["確定"] },
          { label: "⑪", correct: ["435条1号〜3号", "435条1号-3号", "435条1号から3号", "435条"] },
          { label: "⑫", correct: ["435条6号", "435条六号", "新証拠", "435条"] },
        ]
      },

      {
        key: "(7)",
        title: "(7)",
        passage: `刑法9 条は、わが国の刑罰は、主刑としての「死刑」「（①）」「罰金」「（②）」「（③）」、（④）刑としての
「没収」からなることを規定している。わが国の刑罰は、生命刑としての「死刑」、自由刑としての「（①）」「（②）」、財産刑としての「罰金」「（③）」から構成されている。「（①）」と「（②）」は刑期の長さ、「罰金」と「（③）」は金額の多寡で分けられる。 「（①）」は、これまで「懲役」と「（⑤）」に分けられていた自由刑が一本化されたものである。
刑罰を科すことが許される根拠については、古くから議論がなされてきた。この議論は、大きく分けると、（⑥）論と（⑦）刑論（予防刑論）に分けられる。（⑥）刑論は、（⑥）以外の目的を刑罰に含めることができるかによって、絶対的（⑥）　　刑論と（⑧）的（⑥）刑論に分けられ、 （⑦）刑論は、犯罪者を処罰することで国民一般を威嚇し、それによって犯罪を予防しようとする（⑨）予防刑論と、行為者本人に対する働きかけによって行為者による将来の犯罪を予防することに刑罰の目的があるとする（⑩）予防刑論に分けることができる。
刑の執行猶予とは、刑罰の言い渡しの際に、情状によってその刑の執行を一定期間猶予し、その期間
を無事経過したときは刑の言渡しが効力を失い、（⑪）が消滅するという制度である。従来は、刑の全部の執行が猶予される制度のみであったが、平成（⑫）年には一部執行猶予制度が創設されている。`,
        answers: [
          { label: "①", correct: ["拘禁刑"] },
          { label: "②", correct: ["拘留"] },
          { label: "③", correct: ["科料"] },
          { label: "④", correct: ["付加"] }, // 付加刑
          { label: "⑤", correct: ["禁錮"] },
          { label: "⑥", correct: ["応報"] },
          { label: "⑦", correct: ["目的"] },
          { label: "⑧", correct: ["相対"] },
          { label: "⑨", correct: ["一般"] },
          { label: "⑩", correct: ["特別"] },
          { label: "⑪", correct: ["刑罰権"] },
          { label: "⑫", correct: ["28"] },
        ]
      },
    ];

    // ============
    // 状態
    // ============
    let currentIndex = 0;

    const $tabs = document.getElementById("tabs");
    const $passage = document.getElementById("passage");
    const $items = document.getElementById("items");
    const $score = document.getElementById("score");
    const $checkBtn = document.getElementById("checkBtn");
    const $revealBtn = document.getElementById("revealBtn");
    const $clearBtn = document.getElementById("clearBtn");

    function normalize(s) {
      return (s ?? "")
        .trim()
        .replace(/\u3000/g, " ")
        .normalize("NFKC");
    }

    function renderTabs() {
      $tabs.innerHTML = "";
      sets.forEach((s, idx) => {
        const b = document.createElement("button");
        b.className = "tab" + (idx === currentIndex ? " active" : "");
        b.textContent = s.title;
        b.addEventListener("click", () => {
          currentIndex = idx;
          loadCurrentSet();
        });
        $tabs.appendChild(b);
      });
    }

    function renderItems() {
      const set = sets[currentIndex];
      $items.innerHTML = "";
      set.answers.forEach((q, idx) => {
        const div = document.createElement("div");
        div.className = "item";
        div.innerHTML = `
          <div class="tag">${q.label}</div>
          <input type="text" id="in_${idx}" placeholder="${q.label} の答え" />
          <div id="fb_${idx}" class="feedback"></div>
        `;
        $items.appendChild(div);
      });
    }

    function loadCurrentSet() {
      const set = sets[currentIndex];
      $passage.textContent = set.passage;
      $score.textContent = "";
      renderTabs();
      renderItems();
    }

    function checkAll() {
      const set = sets[currentIndex];
      let okCount = 0;

      set.answers.forEach((q, idx) => {
        const user = normalize(document.getElementById(`in_${idx}`).value);
        const fb = document.getElementById(`fb_${idx}`);

        const correctList = q.correct.map(normalize);
        const isOk = user.length > 0 && correctList.includes(user);

        if (isOk) {
          okCount += 1;
          fb.className = "feedback ok";
          fb.textContent = "正解";
        } else {
          fb.className = "feedback ng";
          fb.textContent = user ? "不正解" : "未入力";
        }
      });

      $score.textContent = `スコア：${okCount} / ${set.answers.length}（${set.title}）`;
    }

    function revealAll() {
      const set = sets[currentIndex];
      set.answers.forEach((q, idx) => {
        const fb = document.getElementById(`fb_${idx}`);
        const show = q.correct.join(" / ");
        fb.className = "feedback";
        fb.innerHTML = `正答：<code>${show}</code>`;
      });
      $score.textContent = "";
    }

    function clearAll() {
      const set = sets[currentIndex];
      set.answers.forEach((q, idx) => {
        document.getElementById(`in_${idx}`).value = "";
        const fb = document.getElementById(`fb_${idx}`);
        fb.className = "feedback";
        fb.textContent = "";
      });
      $score.textContent = "";
    }

    $checkBtn.addEventListener("click", checkAll);
    $revealBtn.addEventListener("click", revealAll);
    $clearBtn.addEventListener("click", clearAll);

    // 初期ロード
    loadCurrentSet();
  </script>
</body>
</html>